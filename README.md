### Masuit.MyBlogs
<a href="https://gitee.com/masuit/Masuit.MyBlogs"><img src="https://gitee.com/static/images/logo-black.svg" height="32"></a> <a href="https://github.com/ldqk/Masuit.MyBlogs"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Font_Awesome_5_brands_github.svg/54px-Font_Awesome_5_brands_github.svg.png" height="32"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/GitHub_logo_2013.svg/128px-GitHub_logo_2013.svg.png" height="32"></a>  
ä¸ªäººåšå®¢ç«™é¡¹ç›®æºç ï¼Œé«˜æ€§èƒ½ä½å ç”¨çš„åšå®¢ç³»ç»Ÿï¼Œè¿™ä¹Ÿè®¸æ˜¯æˆ‘å†™è¿‡çš„æ€§èƒ½æœ€é«˜çš„webé¡¹ç›®äº†ã€‚**ä»…1MBçš„ä»£ç é‡ï¼** ç›®å‰æ—¥å‡å¤„ç†è¯·æ±‚æ•°80-300wæ¬¡ï¼ŒåŒæ—¶åœ¨çº¿æ´»è·ƒç”¨æˆ·æ•°30-200äººï¼Œ**æ•°æ®é‡ç´¯è®¡å·²è¾¾åˆ°æ•°ç™¾ä¸‡æ¡**ï¼Œæ•°æ®åº“+Redis+ç½‘ç«™ä¸»ç¨‹åºåŒæ—¶è¿è¡Œåœ¨ä¸€å°2æ ¸4GBçš„æœºå™¨ä¸Šï¼Œæµè§ˆå™¨é¡µé¢è¯·æ±‚ç§’çº§å“åº”ï¼ŒCPUå¹³å‡ä½¿ç”¨ç‡æ§åˆ¶åœ¨10%å·¦å³ï¼Œå†…å­˜æ§åˆ¶åœ¨1GBå·¦å³å ç”¨ã€‚**æ•°æ®åº“æ”¯æŒSQL Serverã€mysqlã€PostgreSQLã€sqliteçš„æ— ç¼åˆ‡æ¢ã€‚**  
![ä»»åŠ¡ç®¡ç†å™¨](https://img11.360buyimg.com/ddimg/jfs/t1/170269/23/18655/93697/6076eb8fE82d545e7/78f0815f7311cd49.png)
![ä»»åŠ¡ç®¡ç†å™¨](https://user-images.githubusercontent.com/20254980/129124177-37e0f98b-57ba-454f-955d-141201f50cc6.png)
![image](https://user-images.githubusercontent.com/20254980/129124476-88a324ac-cfd2-4e9b-8fb9-e84e12d04051.png)

### æ¼”ç¤ºç«™ç‚¹
æµ‹è¯•ç«™ç‚¹1ï¼š[https://masuit.org](https://masuit.org)ï¼Œæµ‹è¯•ç«™ç‚¹2ï¼š[https://masuit.com](https://masuit.com)ï¼Œæµ‹è¯•ç«™ç‚¹3ï¼š[https://masuit.tk](https://masuit.tk)ï¼Œæµ‹è¯•ç«™ç‚¹4ï¼š[https://ldqk.tk](https://ldqk.tk)

[![LICENSE](https://img.shields.io/badge/license-Anti%20996-blue.svg)](https://github.com/996icu/996.ICU/blob/master/LICENSE) ![codeSize](https://img.shields.io/github/languages/code-size/ldqk/Masuit.MyBlogs.svg) ![language](https://img.shields.io/github/languages/top/ldqk/Masuit.MyBlogs.svg)

è¯·æ³¨æ„ï¼šä¸€æ—¦ä½¿ç”¨æœ¬å¼€æºé¡¹ç›®ä»¥åŠå¼•ç”¨äº†æœ¬é¡¹ç›®æˆ–åŒ…å«æœ¬é¡¹ç›®ä»£ç çš„å…¬å¸å› ä¸ºè¿ååŠ³åŠ¨æ³•ï¼ˆåŒ…æ‹¬ä½†ä¸é™å®šéæ³•è£å‘˜ã€è¶…æ—¶ç”¨å·¥ã€é›‡ä½£ç«¥å·¥ç­‰ï¼‰åœ¨ä»»ä½•æ³•å¾‹è¯‰è®¼ä¸­è´¥è¯‰çš„ï¼Œé¡¹ç›®ä½œè€…æœ‰æƒåˆ©è¿½è®¨æœ¬é¡¹ç›®çš„ä½¿ç”¨è´¹ï¼Œæˆ–è€…ç›´æ¥ä¸å…è®¸ä½¿ç”¨ä»»ä½•åŒ…å«æœ¬é¡¹ç›®çš„æºä»£ç ï¼

## Starè¶‹åŠ¿  
<img src="https://starchart.cc/ldqk/Masuit.MyBlogs.svg">    

### å‰ç«¯è¯·æ±‚æ”¯æ´
ç›®å‰ç½‘ç«™å‰ç«¯é¡µé¢çš„ä»£ç æ¯”è¾ƒé›¶ä¹±ï¼Œåˆ°å¤„éƒ½æ˜¯ï¼Œå¤§å®¶æƒ³åæ§½çš„å°½ç®¡åæ§½å§ï¼Œä¹Ÿæƒ³æ‰¾ä¸ªäººå¸®å¿™è®¾è®¡ä¸‹æ•´ä½“çš„å‰ç«¯é¡µé¢ï¼Œæœ‰å…´è¶£æ„¿æ„è´¡çŒ®ä»£ç çš„çš„å°ä¼™ä¼´ï¼Œæ¬¢è¿Pull Requestå§ï¼ğŸ˜‚ğŸ˜‚
### å¼€å‘ç¯å¢ƒ
æ“ä½œç³»ç»Ÿï¼šWindows 10 2104  
IDEï¼šVisual Studio 2022 v17.0  
æ•°æ®åº“ï¼šSQL Server 2017+/MySQL 8.x/PostgreSQL 14.x  
Redisï¼šredis-server-windows 5.x  
è¿è¡Œæ—¶ï¼šå¿…é¡»æ˜¯.NET 6 
### å½“å‰è¿è¡Œç¯å¢ƒ
æ“ä½œç³»ç»Ÿï¼šWindows Server 2019  
æ•°æ®åº“ï¼šMySQL 8.0  
Redisï¼šredis-server-windows 5.x  
è¿è¡Œæ—¶ï¼š.NET 6  
æœåŠ¡å™¨é…ç½®ï¼š2æ ¸+6GB+1000M  
æ‰¿è½½æµé‡ï¼šå•æ—¥è¯·æ±‚é‡å¹³å‡600wå·¦å³ï¼Œå•æ—¥å¸¦å®½1TBå·¦å³  
`è¯·å‹¿ä½¿ç”¨é˜¿é‡Œäº‘ã€ç™¾åº¦äº‘ç­‰æ´»åŠ¨è¶…å–æœºè¿è¡Œæœ¬ç¨‹åºï¼Œå¦åˆ™å¡å‡ºç¿”ï¼ï¼ï¼`  
`å¦‚ä½•åˆ¤æ–­æœåŠ¡å™¨å•†æ˜¯å¦æœ‰è¶…å–ï¼šç»™ä½ çš„æœåŠ¡å™¨è·‘ä¸ªåˆ†ï¼Œå¦‚æœè·‘åˆ†æ¥è¿‘äºç½‘ç»œä¸Šè¯¥å¤„ç†å™¨å…¬å¸ƒçš„åˆ†æ•°ï¼Œåˆ™ä¸æ˜¯è¶…å–çš„æœºå™¨ï¼Œè®¡ç®—å…¬å¼ï¼šæ€»åˆ†/æ ¸å¿ƒæ•°è¿›è¡Œæ¯”è¾ƒï¼Œç”±äºæ˜¯è™šæ‹Ÿæœºï¼Œå¦‚æœå•ç‹¬æ¯”è¾ƒå•æ ¸è·‘åˆ†ï¼Œæ²¡æœ‰å‚è€ƒæ„ä¹‰`
### åŸºç¡€è®¾æ–½è¦æ±‚
||æœ€ä½é…ç½®|æ¨èé…ç½®|è±ªåé…ç½®|è‡³å°Šé…ç½®|
| --------   | -----:   | :----: | :----: | :----: |
|CPU|1æ ¸|2æ ¸|2æ ¸|4æ ¸|
|å†…å­˜|1GB|2GB|4GB|8GB|
|å¸¦å®½|1Mbps|1Mbps|5Mbps|1000Mbps|
|æ•°æ®åº“|MySQL 5/SQL Server 2008/pgsql 9|MySQL 8/SQL Server 2012/pgsql 14|MySQL 8/SQL Server 2016/pgsql 14|MySQL 8/SQL Server 2016/pgsql 14|
|ç¼“å­˜ç»„ä»¶|Redis 3.2+|Redis 5.0+|Redis 5.0+|Redis 5.0+|
|å¤‡æ³¨|ç©ç©è€Œå·²|å‡ ä¸ªäººåŒæ—¶è®¿é—®|å‡ ç™¾ä¸ªäººåŒæ—¶è®¿é—®ï¼Œå•æ—¥è¯·æ±‚é‡600wä»¥ä¸‹|å•æ—¥è¯·æ±‚é‡600wä»¥ä¸Š|
### ä¸»è¦åŠŸèƒ½
#### æœåŠ¡å™¨æ€§èƒ½ç›‘æ§
å¯ç›´æ¥åœ¨çº¿å®æ—¶ç›‘æ§æœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬CPUã€ç½‘ç»œå¸¦å®½ã€ç£ç›˜ä½¿ç”¨ç‡ã€å†…å­˜å ç”¨ç­‰æƒ…å†µï¼Œç™¾åˆ†ä½ç»Ÿè®¡å’Œå›¾è¡¨ç»Ÿè®¡ï¼Œå¯è®°å½•æœ€è¿‘ä¸€å¤©çš„æœåŠ¡å™¨å¥åº·çŠ¶æ€ï¼Œé€šè¿‡websocketè¿›è¡Œæ•°æ®çš„æ¨é€ï¼Œä»…æ”¯æŒWindowsï¼Œä¸”éœ€è¦Windowså®‰è£…æœ€æ–°çš„æ›´æ–°ã€‚
![image](https://user-images.githubusercontent.com/20254980/127088294-89c63e04-399c-45a1-ae47-5b55ea86a05d.png)

#### æ–‡ç« ç®¡ç†
- åŒ…å«æ–‡ç« å®¡æ ¸ã€æ–‡ç« åˆå¹¶ã€æ–‡ç« åˆ—è¡¨çš„å¢åˆ æŸ¥æ”¹ã€åˆ†ç±»ç®¡ç†ã€ä¸“é¢˜ç®¡ç†ï¼›
- æ–‡ç« å®¡æ ¸ï¼šå½“ç”¨æˆ·åœ¨å‰å°é¡µè¿›è¡ŒæŠ•ç¨¿åï¼Œä¼šè¿›å…¥å®¡æ ¸çŠ¶æ€ï¼Œå®¡æ ¸é€šè¿‡åï¼Œæ‰ä¼šåœ¨å‰å°é¡µçš„æ–‡ç« åˆ—è¡¨ä¸­å±•ç¤ºå‡ºæ¥ã€‚
- æ–‡ç« åˆå¹¶ï¼šå½“ç”¨æˆ·åœ¨å‰å°é¡µè¿›è¡Œäº†æ–‡ç« çš„ç¼–è¾‘åï¼Œä¼šåˆ›å»ºå‡ºæ–‡ç« çš„åˆå¹¶è¯·æ±‚ï¼Œå½“åå°ç®¡ç†è¿›è¡Œç›¸åº”çš„åˆå¹¶æ“ä½œåï¼Œå‰å°ç”¨æˆ·çš„ä¿®æ”¹æ‰ä¼šæ­£å¼ç”Ÿæ•ˆï¼Œå¯ä»¥ç›´æ¥åˆå¹¶ã€ç¼–è¾‘å¹¶åˆå¹¶å’Œæ‹’ç»åˆå¹¶ï¼Œæ‹’ç»æ—¶ï¼Œä¿®æ”¹äººä¼šæ”¶åˆ°ç›¸åº”çš„é‚®ä»¶é€šçŸ¥ã€‚
- æ–‡ç« æ“ä½œï¼šå¯å¯¹æ–‡ç« è¿›è¡Œä¿®æ”¹ã€æ–°å¢ã€ç½®é¡¶ã€ä¸´æ—¶åˆ é™¤(ä¸‹æ¶)ã€è¿˜åŸã€æ°¸ä¹…åˆ é™¤ã€ç¦æ­¢è¯„è®ºç­‰æ“ä½œï¼Œç¼–è¾‘åçš„æ–‡ç« ä¼šç”Ÿæˆå†å²ç‰ˆæœ¬ã€‚æ–‡ç« æ”¯æŒæ¨¡æ¿å˜é‡ã€‚
- åˆ†ç±»ç®¡ç†ï¼šå¯¹æ–‡ç« çš„åˆ†ç±»è¿›è¡Œå¢åˆ æŸ¥æ”¹å’Œæ–‡ç« çš„ç§»åŠ¨ç­‰æ“ä½œï¼Œä¸æ–‡ç« çš„å…³ç³»ï¼šä¸€å¯¹å¤šã€‚
- ä¸“é¢˜ç®¡ç†ï¼šå¯¹æ–‡ç« çš„ä¸“é¢˜è¿›è¡Œç®¡ç†ï¼Œä¸æ–‡ç« çš„å…³ç³»ï¼šå¤šå¯¹å¤šã€‚
- å¿«é€Ÿåˆ†äº«ï¼šé¦–é¡µå¿«é€Ÿåˆ†äº«æ ç›®çš„ç®¡ç†ã€‚
![image](https://user-images.githubusercontent.com/20254980/127089680-c8f57334-2b7e-4ca2-a2a2-01a50d58e61b.png)
![image](https://user-images.githubusercontent.com/20254980/127088470-15fabe44-c45f-4801-b2fb-8fc034a593dd.png)
![image](https://user-images.githubusercontent.com/20254980/127089714-d85a3f8b-bb8e-4a0a-b6c1-0e4aead194e2.png)
![image](https://user-images.githubusercontent.com/20254980/127089725-25a5fa87-2c70-49bd-ada9-e65a8c71797d.png)
![image](https://user-images.githubusercontent.com/20254980/127089745-70ec7ac2-b80f-4059-abae-7ba362f02b60.png)
![image](https://user-images.githubusercontent.com/20254980/127089763-57457c59-cfdf-4b7d-a31b-8123dc944c88.png)

#### è¯„è®ºå’Œç•™è¨€ç®¡ç†
å¯¹å‰å°ç”¨æˆ·æäº¤çš„ç•™è¨€å’Œè¯„è®ºè¿›è¡Œå®¡æ ¸ï¼Œå½“å‰å°ç”¨æˆ·æäº¤çš„å†…å®¹å¯èƒ½åŒ…å«æœ‰æ•æ„Ÿè¯æ—¶ï¼Œä¼šè¿›å…¥äººå·¥å®¡æ ¸ï¼Œå®¡æ ¸æˆåŠŸæ‰ä¼šåœ¨å‰å°é¡µä¸­å±•ç¤ºã€‚
#### æ¶ˆæ¯é€šçŸ¥
ç«™å†…æ¶ˆæ¯åŒ…å«è¯„è®ºã€ç•™è¨€ã€æŠ•ç¨¿ã€æ–‡ç« åˆå¹¶ç­‰é€šçŸ¥ã€‚
#### å…¬å‘Šç®¡ç†
å¯¹ç½‘ç«™çš„å…¬å‘Šè¿›è¡Œå¢åˆ æŸ¥æ”¹ç®¡ç†ã€‚æ”¯æŒå®šæ—¶ä¸Šä¸‹æ¶å‘å¸ƒã€‚
![image](https://user-images.githubusercontent.com/20254980/127088599-9d9d6b8b-9253-4f3d-8b9a-80965c002422.png)

#### æ‚é¡¹é¡µç®¡ç†
ä¸€äº›é€šç”¨çš„é¡µé¢ç®¡ç†ï¼Œå¯è‡ªç”±çµæ´»çš„åˆ›å»ºé™æ€é¡µé¢ã€‚
![image](https://user-images.githubusercontent.com/20254980/127088620-3ea1e808-7ce2-4ede-9a62-765609cfda94.png)

#### ç³»ç»Ÿè®¾ç½®
- åŒ…å«ç³»ç»Ÿçš„å…¨å±€è®¾ç½®ã€é˜²ç«å¢™ç®¡ç†ã€ç½‘ç«™è¿è¡Œæ—¥å¿—è®°å½•ã€å‹é“¾ç®¡ç†ã€é‚®ä»¶æ¨¡æ¿çš„ç®¡ç†ã€‚
- å…¨å±€è®¾ç½®ï¼šç½‘ç«™çš„ä¸€äº›åŸºæœ¬é…ç½®å’ŒSEOç›¸å…³æ“ä½œç­‰ï¼›
- é˜²ç«å¢™ï¼šå¯¹ç½‘ç«™çš„æ‰€æœ‰è¯·æ±‚è¿›è¡Œå…¨å±€æµé‡çš„æ‹¦æˆªï¼Œè®©è§„åˆ™å†…çš„è¯·æ±‚é˜»æ­¢æ‰ï¼Œæ”¯æŒé»‘åå•ã€ç™½åå•ã€IPåœ°å€æ®µã€å›½å®¶æˆ–åœ°åŒºã€å…³é”®è¯å®¡æŸ¥ç­‰è§„åˆ™ï¼›
- æ¨¡æ¿å˜é‡ï¼šé’ˆå¯¹æ–‡ç« å†…å®¹çš„é€šç”¨å†…å®¹ç”Ÿæˆï¼Œå˜é‡åªèƒ½æ·»åŠ ä¸èƒ½åˆ é™¤ã€‚
![image](https://user-images.githubusercontent.com/20254980/127088748-13d56e4a-f5e0-4c59-9135-0af935d70976.png)
![image](https://user-images.githubusercontent.com/20254980/127088776-b95f8e8d-5f07-4937-8a9f-6a975ed29e31.png)
![image](https://user-images.githubusercontent.com/20254980/127089076-2599c484-9323-4d1a-82e5-61ef833ed4e3.png)
![image](https://user-images.githubusercontent.com/20254980/127089090-5b0dedcb-6be7-46ce-82e7-b4fcb50ea032.png)
![image](https://user-images.githubusercontent.com/20254980/127089200-cca28f8a-87bb-4a8b-b581-91c0572714c9.png)

#### å¹¿å‘Šç®¡ç†
ä¸»åŠ¨å¼çš„å¹¿å‘ŠæŠ•æ”¾ç®¡ç†ï¼Œæ”¯æŒç«ä»·æ’åï¼Œæ”¯æŒåœ¨bannerã€è¾¹æ ã€é¡µå†…ã€åˆ—è¡¨å†…çš„å¹¿å‘Šå±•ç¤ºï¼Œç«ä»·æˆ–æƒé‡çš„é«˜ä½å†³å®šå¹¿å‘Šå‡ºç°çš„æ¦‚ç‡ã€‚æ”¯æŒæŒ‰åœ°åŒºè¿›è¡ŒæŠ•æ”¾ã€‚
![image](https://user-images.githubusercontent.com/20254980/127089325-27b5bf4d-49ea-41ea-aae6-8829924bcc92.png)
![image](https://user-images.githubusercontent.com/20254980/127089358-7bab075c-5bb7-41ea-8900-29a2eecb71de.png)

#### èµåŠ©ç®¡ç†
å¯¹ç½‘ç«™æ‰“èµè¿›è¡Œå¢åˆ æŸ¥æ”¹æ“ä½œï¼Œè‡ªåŠ¨æ©ç ã€‚
![image](https://user-images.githubusercontent.com/20254980/127089429-beb5baf0-c1d3-4880-85c0-9f897fb0de75.png)

#### æœç´¢ç»Ÿè®¡
å½“å‰å°ç”¨æˆ·æ¯Sessionå‘¨æœŸå†…çš„å…³é”®è¯æœç´¢ï¼Œä¸é‡å¤çš„å…³é”®è¯å°†ä¼šè¢«è®°å½•ï¼Œç”¨äºçƒ­è¯ç»Ÿè®¡ï¼Œä»…è®°å½•æœ€è¿‘ä¸€ä¸ªæœˆå†…çš„æ‰€æœ‰æœç´¢å…³é”®è¯ï¼Œç”¨äºç»Ÿè®¡å½“æœˆã€7å¤©ä»¥åŠå½“å¤©çš„æœç´¢çƒ­è¯ã€‚
![image](https://user-images.githubusercontent.com/20254980/127089504-2c32288d-aa0d-4331-a3a2-90e97ba9f7a2.png)

#### ä»»åŠ¡ç®¡ç†
hangfireçš„å¯è§†åŒ–ç®¡ç†é¡µé¢
#### æ–‡ä»¶ç®¡ç†
æœåŠ¡å™¨æ–‡ä»¶çš„åœ¨çº¿ç®¡ç†ï¼Œæ”¯æŒæµè§ˆã€é¢„è§ˆã€å‹ç¼©ã€è§£å‹ç¼©ã€åˆ›å»ºæ–‡ä»¶å¤¹ã€ä¸Šä¼ ã€ä¸‹è½½ã€æ‰“åŒ…ä¸‹è½½ç­‰æ–‡ä»¶çš„åŸºæœ¬æ“ä½œã€‚
![image](https://user-images.githubusercontent.com/20254980/127089568-5d3bcef6-5ad7-4f44-b30d-b7253be2d3fb.png)
#### onedriveç½‘ç›˜ç¨‹åº
åŸºäº[YukiDrive](https://github.com/YukiCoco/YukiDrive)äºŒæ¬¡å¼€å‘çš„å†…åµŒç½‘ç›˜åº”ç”¨ã€‚
![image](https://user-images.githubusercontent.com/20254980/127090161-09fa9337-4601-4eaa-b47c-cefd8242910d.png)
![image](https://user-images.githubusercontent.com/20254980/127090259-868e38f8-abbe-474e-bdd3-4c241b49d1b5.png)

### é¡¹ç›®æ¶æ„
- é¡¹ç›®é‡‡ç”¨å•ä½“æ¶æ„ï¼Œæ–¹ä¾¿éƒ¨ç½²å’Œé…ç½®ï¼Œä¼ ç»Ÿçš„MVCæ¨¡å¼ï¼ŒASP.NET Core MVC+EF Coreçš„ç®€å•æ¶æ„ã€‚  
- Controllerâ†’Serviceâ†’Repositoryâ†’DbContext  
![image](https://git.imweb.io/ldqk/imgbed/raw/master/5ccbcc714c3db.jpg)  
### é¡¹ç›®æ–‡ä»¶å¤¹å®šä¹‰ï¼š
App_Dataï¼šå­˜æ”¾ç½‘ç«™çš„ä¸€äº›å¸¸è§„æ•°æ®ï¼Œä»¥æ–‡æœ¬çš„å½¢å¼å­˜åœ¨ï¼Œè¿™ç±»æ•°æ®ä¸éœ€è¦é¢‘ç¹æ›´æ–°çš„ã€‚  
â” â”€certæ–‡ä»¶å¤¹ï¼šå­˜æ”¾httpsè¯ä¹¦  
â” â”€ban.txtï¼šæ•æ„Ÿè¯åº“  
â” â”€CustomKeywords.txtï¼šæœç´¢åˆ†è¯è¯åº“  
â” â”€denyip.txtï¼šIPåœ°å€é»‘åå•  
â” â”€DenyIPRange.txtï¼šIPåœ°å€æ®µé»‘åå•  
â” â”€GeoLite2-City.mmdbï¼šMaxMindåœ°å€åº“  
â” â”€ip2region.dbï¼šip2regionåœ°å€åº“  
â” â”€mod.txtï¼šå®¡æŸ¥è¯åº“  
â” â”€whitelist.txtï¼šIPåœ°å€ç™½åå•  
Commonï¼šä¹‹å‰è€é¡¹ç›®çš„Commoné¡¹ç›®ï¼›  
Configsï¼šé¡¹ç›®çš„ä¸€äº›é…ç½®å¯¹è±¡  
Controllersï¼šæ§åˆ¶å™¨  
Extensionsï¼šä¸€äº›æ‰©å±•ç±»æˆ–ä¸€äº›é¡¹ç›®çš„æ‰©å±•åŠŸèƒ½ï¼Œæ¯”å¦‚hangfireã€ueditorã€ä¸­é—´ä»¶ã€æ‹¦æˆªå™¨ç­‰ï¼›  
Infrastructureï¼šæ•°æ®è®¿é—®åŸºç¡€è®¾æ–½ï¼ŒåŒ…å«Repositoryå’ŒServicesï¼Œç›¸å½“äºè€é¡¹ç›®çš„DALå’ŒBLLï¼›  
Migrationsï¼šæ•°æ®åº“CodeFirstæ¨¡å¼çš„è¿ç§»æ–‡ä»¶ï¼›  
Modelsï¼šå­˜æ”¾ä¸€äº›å®ä½“ç±»æˆ–DTOï¼›  
Viewsï¼šrazorè§†å›¾  
wwwrootï¼šé¡¹ç›®çš„æ‰€æœ‰é™æ€èµ„æºï¼›  
### æ ¸å¿ƒåŠŸèƒ½ç‚¹æŠ€æœ¯å®ç°
#### åç«¯æŠ€æœ¯æ ˆï¼š
ä¾èµ–æ³¨å…¥å®¹å™¨ï¼š.NET Coreè‡ªå¸¦çš„+Autofacï¼Œautofacä¸»è¦è´Ÿè´£æ‰¹é‡æ³¨å…¥å’Œå±æ€§æ³¨å…¥ï¼›  
å®ä½“æ˜ å°„æ¡†æ¶ï¼šautomapper 9.0ï¼›  
ç¼“å­˜æ¡†æ¶ï¼šCacheManagerç»Ÿä¸€ç®¡ç†ç½‘ç«™çš„çƒ­æ•°æ®ï¼Œå¦‚Sessionã€å†…å­˜ç¼“å­˜ï¼ŒEFCoreSecondLevelCacheInterceptorè´Ÿè´£ç®¡ç†EF Coreçš„äºŒçº§ç¼“å­˜ï¼›  
å®šæ—¶ä»»åŠ¡ï¼šhangfireç»Ÿä¸€ç®¡ç†å®šæ—¶ä»»åŠ¡ï¼ŒåŒ…å«å‹é“¾å›é“¾æ£€æŸ¥ã€æ–‡ç« å®šæ—¶å‘å¸ƒã€è®¿å®¢ç»Ÿè®¡ã€æœç´¢çƒ­è¯ç»Ÿè®¡ã€Luceneåº“åˆ·æ–°ç­‰ä»»åŠ¡ï¼›  
Websocketï¼šBlazorè¿›è¡Œæµæ¨é€å®ç°æœåŠ¡å™¨ç¡¬ä»¶å¥åº·çŠ¶æ€çš„å®æ—¶ç›‘æ§ï¼›  
ç¡¬ä»¶æ£€æµ‹ï¼šMasuit.Toolså°è£…çš„ç¡¬ä»¶æ£€æµ‹åŠŸèƒ½ï¼›  
å…¨æ–‡æ£€ç´¢ï¼šMasuit.LuceneEFCore.SearchEngineåŸºäºLucene.Net 4.8å®ç°çš„å…¨æ–‡æ£€ç´¢ä¸­é—´ä»¶ï¼›  
ä¸­æ–‡åˆ†è¯ï¼šç»“å·´åˆ†è¯ç»“åˆæœ¬åœ°è¯åº“å®ç°ä¸­æ–‡åˆ†è¯ï¼›  
æ–­ç‚¹ä¸‹è½½ï¼šMasuit.Toolså°è£…çš„æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼›  
Redisï¼šCSRedisè´Ÿè´£Redisçš„è¯»å†™æ“ä½œï¼›  
æ–‡ä»¶å‹ç¼©ï¼šMasuit.Toolså°è£…çš„zipæ–‡ä»¶å‹ç¼©åŠŸèƒ½ï¼›  
Htmlå­—ç¬¦ä¸²æ“ä½œï¼šhtmldiff.net-coreå®ç°æ–‡ç« ç‰ˆæœ¬çš„å†…å®¹å¯¹æ¯”ï¼ŒHtmlAgilityPackå®ç°htmlå­—ç¬¦ä¸²çš„â€œDOMâ€æ“ä½œï¼Œä¸»è¦æ˜¯ç”¨äºæå–imgæ ‡ç­¾ï¼ŒHtmlSanitizerå®ç°è¡¨å•çš„htmlä»£ç çš„ä»¿XSSå¤„ç†ï¼›  
å›¾åºŠï¼šæ”¯æŒå¤šä¸ªå›¾åºŠçš„ä¸Šä¼ ï¼šgiteeã€githubã€gitlabï¼›  
æ‹¦æˆªå™¨ï¼šæˆæƒæ‹¦æˆªå™¨ã€è¯·æ±‚æ‹¦æˆªå™¨è´Ÿè´£ç½‘ç«™å…¨å±€æµé‡çš„æ‹¦æˆªå’Œæ¸…æ´—ã€é˜²ç«å¢™æ‹¦æˆªå™¨è´Ÿè´£æ‹¦æˆªç½‘ç«™è‡ªå¸¦é˜²ç«å¢™è§„åˆ™çš„è¯·æ±‚æµé‡ã€å¼‚å¸¸æ‹¦æˆªå™¨ã€urlé‡å®šå‘é‡å†™æ‹¦æˆªå™¨ï¼Œä¸»è¦ç”¨äºå°†httpçš„è¯·æ±‚é‡å®šå‘åˆ°httpsï¼›  
è¯·æ±‚IPæ¥æºæ£€æŸ¥ï¼šmaxmind+IP2Region+æœ¬åœ°æ•°æ®åº“å®ç°è¯·æ±‚IPçš„æ¥æºæ£€æŸ¥ï¼›  
RSSï¼šWilderMinds.RssSyndicationå®ç°ç½‘ç«™çš„RSSæºï¼›  
EFæ‰©å±•åŠŸèƒ½ï¼šzzzprojectç›¸å…³nugetåŒ…  
Wordæ–‡æ¡£è½¬æ¢ï¼šOpenXmlå®ç°æµè§ˆå™¨ç«¯ä¸Šä¼ Wordæ–‡æ¡£è½¬æ¢ä¸ºhtmlå­—ç¬¦ä¸²ã€‚  
åœ¨çº¿æ–‡ä»¶ç®¡ç†ï¼šangular-filemanager+æ–‡ä»¶ç®¡ç†ä»£ç å®ç°æœåŠ¡å™¨æ–‡ä»¶çš„åœ¨çº¿ç®¡ç†  

#### å‰ç«¯æŠ€æœ¯æ ˆ
##### å‰å°é¡µé¢ï¼š
åŸºäºbootstrap3å¸ƒå±€  
ueditor+layeditå¯Œæ–‡æœ¬ç¼–è¾‘å™¨  
notieæç¤ºæ +sweetyalertå¼¹çª—+layuiç»„ä»¶  
angularjs  

##### åå°ç®¡ç†é¡µï¼š
- angularjså•ä¸€é¡µé¢åº”ç”¨ç¨‹åº  
- materialå¸ƒå±€é£æ ¼  
- echartå›¾è¡¨ç»„ä»¶  
- ng-tableè¡¨æ ¼æ’ä»¶  
- materialé£æ ¼angular-filemanageræ–‡ä»¶ç®¡ç†å™¨  
#### æ€§èƒ½å’Œå®‰å…¨ç›¸å…³
- hangfireå®ç°åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ï¼›
- Z.EntityFramework.Pluså®ç°æ•°æ®è®¿é—®å±‚çš„é«˜æ€§èƒ½æ•°æ®åº“æ‰¹é‡æ“ä½œï¼›
- Lucene.NETå®ç°é«˜æ€§èƒ½ç«™å†…æ£€ç´¢ï¼›
- é€šè¿‡urlçš„æ•æ„Ÿè¯æ£€æŸ¥è¿‡æ»¤æ¶æ„æµé‡ï¼›
- é™åˆ¶å®¢æˆ·ç«¯çš„è¯·æ±‚é¢‘æ¬¡ï¼›
- è¡¨å•çš„AntiForgeryTokené˜²æ­¢æ¶æ„æäº¤ï¼›
- ip2region+MaxMindåœ°å€åº“å®ç°è¯·æ±‚æ¥æºå®¡æŸ¥ï¼›
- ç”¨æˆ·ä¿¡æ¯é‡‡ç”¨ç«¯åˆ°ç«¯RSAéå¯¹ç§°åŠ å¯†è¿›è¡Œæ•°æ®ä¼ è¾“ï¼›
### é¡¹ç›®éƒ¨ç½²
ä»¥Windowsç³»ç»Ÿä¸ºä¾‹ï¼ŒLinuxç³»ç»Ÿè¯·è‡ªè¡ŒæŠ˜è…¾ã€‚
#### 1.å®‰è£…åŸºç¡€è®¾æ–½ï¼š
1. å®‰è£….net6è¿è¡Œæ—¶ï¼š[https://dotnet.microsoft.com/zh-cn/download](https://dotnet.microsoft.com/zh-cn/download)
2. å®‰è£…mysqlï¼š[mysql 8 ç»¿è‰²ç‰ˆ](https://masuit.org/1567),æˆ–pgsqlï¼š[pgsql 14 ç»¿è‰²ç‰ˆ](https://masuit.org/2160)
3. å®‰è£…redisï¼š[redis for windowsç»¿è‰²ç‰ˆ](https://masuit.org/1567)
#### 2.ç”Ÿæˆç½‘ç«™åº”ç”¨
#### æ–¹å¼ä¸€ï¼šç¼–è¯‘æºä»£ç ï¼š
ç¼–è¯‘éœ€è¦å°†[Masuit.Tools](https://github.com/ldqk/Masuit.Tools)é¡¹ç›®å’Œ[Masuit.LuceneEFCore.SearchEngine](https://github.com/ldqk/Masuit.LuceneEFCore.SearchEngine)é¡¹ç›®ä¹Ÿä¸€èµ·cloneä¸‹æ¥ï¼Œå’Œæœ¬é¡¹ç›®å¹³çº§ç›®å½•å­˜æ”¾ï¼Œæ‰èƒ½æ­£å¸¸ç¼–è¯‘ï¼Œå¦åˆ™ï¼Œå°†[Masuit.Tools](https://github.com/ldqk/Masuit.Tools)é¡¹ç›®å’Œ[Masuit.LuceneEFCore.SearchEngine](https://github.com/ldqk/Masuit.LuceneEFCore.SearchEngine)é¡¹ç›®ç§»é™¤ï¼Œé€šè¿‡nugetå®‰è£…ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚  
![](https://git.imweb.io/ldqk/imgbed/raw/master/20191019/6370710386639200004363431.png)  
#### æ–¹å¼äºŒï¼šä¸‹è½½ç¼–è¯‘å¥½çš„ç°æˆçš„äºŒè¿›åˆ¶æ–‡ä»¶
å‰å¾€[Release](https://github.com/ldqk/Masuit.MyBlogs/releases)ä¸‹è½½æœ€æ–°çš„å‹ç¼©åŒ…è§£å‹å³å¯ã€‚
#### 3.è¿˜åŸæ•°æ®åº“è„šæœ¬
åˆ›å»ºæ•°æ®åº“ï¼Œåç§°éšæ„ï¼Œå¦‚ï¼šmyblogsï¼Œç„¶åå‰å¾€[Release](https://github.com/ldqk/Masuit.MyBlogs/releases)æˆ–[https://github.com/ldqk/Masuit.MyBlogs/tree/master/database/mysql](https://github.com/ldqk/Masuit.MyBlogs/tree/master/database/mysql)ä¸‹è½½æœ€æ–°çš„æ•°æ®åº“æ–‡ä»¶,è¿˜åŸåˆ°æ–°å»ºçš„æ•°æ®åº“ã€‚   
å¦‚æœæ²¡æœ‰ä½ ç›®æ ‡æ•°æ®åº“ç±»å‹çš„è¿˜åŸæ–‡ä»¶ï¼Œä½ å¯ä»¥å…ˆè¿˜åŸåˆ°mysqlæˆ–pgsqlä¸­ï¼Œç„¶åä½¿ç”¨[Full Convert](https://masuit.org/2163)è½¬æ¢æˆä½ éœ€è¦çš„ç›®æ ‡æ•°æ®åº“ç±»å‹å³å¯ã€‚
#### 4.ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š
ä¸»è¦éœ€è¦é…ç½®çš„æ˜¯httpsè¯ä¹¦ã€æ•°æ®åº“è¿æ¥å­—ç¬¦ã€redisã€BaiduAKä»¥åŠå›¾åºŠé…ç½®ï¼Œå…¶ä»–é…ç½®å‡ä¸ºå¯é€‰é¡¹ï¼Œä¸é…ç½®åˆ™è¡¨ç¤ºä¸å¯ç”¨ï¼›
![](https://p.pstatp.com/origin/1381c000155b45481aeec)  
åŒæ—¶ï¼ŒBaiduAKå‚ä¸äº†æ•°æ®åº“çš„åŠ å¯†ï¼Œå¦‚æœä½ æ²¡æœ‰BaiduAKï¼Œè‡ªè¡Œåˆ°ç™¾åº¦åœ°å›¾å¼€æ”¾å¹³å°ç”³è¯·ï¼Œ`å…è´¹çš„`ã€‚  
å¦‚æœä½ ä½¿ç”¨äº†CDNï¼Œéœ€è¦é…ç½®TrueClientIPHeaderé€‰é¡¹ä¸ºçœŸå®IPè¯·æ±‚è½¬å‘å¤´ï¼Œå¦‚cloudflareçš„å«CF-Connecting-IPã€‚
å¦‚æœRedisä¸åœ¨æœ¬æœºï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­çš„RedisèŠ‚ä¸‹é…ç½®ï¼Œå›ºå®šä¸ºRedisï¼Œå€¼çš„æ ¼å¼ï¼š127.0.0.1:6379,allowadmin=trueï¼Œè‹¥æœªæ­£ç¡®é…ç½®ï¼Œå°†æŒ‰é»˜è®¤å€¼â€œ127.0.0.1:6379,allowadmin=true,abortConnect=falseâ€ã€‚  
å…¶ä»–é…ç½®è¯·å‚è€ƒappsettings.jsonçš„æ³¨é‡ŠæŒ‰éœ€é…ç½®å³å¯ã€‚  
#### 5.å¯åŠ¨ç½‘ç«™
é…ç½®å¥½ç¯å¢ƒå’Œé…ç½®æ–‡ä»¶åï¼Œå¯ç›´æ¥é€šè¿‡dotnet Masuit.MyBlogs.Core.dllå‘½ä»¤æˆ–ç›´æ¥åŒå‡»Masuit.MyBlogs.Core.exeè¿è¡Œï¼Œä¹Ÿå¯ä»¥é€šè¿‡nssmæŒ‚åœ¨ä¸ºWindowsæœåŠ¡è¿è¡Œï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥å°è¯•åœ¨Linuxä¸‹éƒ¨ç½²ã€‚  
#### å…¶ä»–æ–¹å¼éƒ¨ç½²
IISï¼šéƒ¨ç½²æ—¶å¿…é¡»å°†åº”ç”¨ç¨‹åºæ± çš„æ ‡è¯†è®¾ç½®ä¸ºLocalSystemï¼Œå¦åˆ™æ— æ³•ç›‘æ§æœåŠ¡å™¨ç¡¬ä»¶ï¼ŒåŒæ—¶éœ€è¦å®‰è£….NET Core Hostingè¿è¡Œæ—¶ç¯å¢ƒï¼ŒIISç¨‹åºæ± æ”¹ä¸ºæ— æ‰˜ç®¡ä»£ç ã€‚  
![](https://git.imweb.io/ldqk/imgbed/raw/master/5ccbf30b6a083.jpg)  
docker/Linuxï¼šè‡ªè¡Œçˆ¬æ–‡ã€‚  
#### æœ‰å¿ä»£éƒ¨ç½²æœåŠ¡
è¯·è”ç³»ï¼šadmin@masuit.com

### åå°ç®¡ç†ï¼š
https://127.0.0.1:5001/dashboard
- åˆå§‹ç”¨æˆ·åï¼šmasuit  
- åˆå§‹å¯†ç ï¼š123abc@#$
`è‹¥å¯†ç ä¸å¯¹ï¼Œå¯åœ¨debugæ¨¡å¼ä¸‹è¿›å…¥åå°ã€ç”¨æˆ·ç®¡ç†ã€‘ä¸‹é‡ç½®å¯†ç `

### æ¨èé¡¹ç›®
åŸºäºEntityFrameworkCoreå’ŒLucene.NETå®ç°çš„å…¨æ–‡æ£€ç´¢æœç´¢å¼•æ“ï¼š[Masuit.LuceneEFCore.SearchEngine](https://github.com/ldqk/Masuit.LuceneEFCore.SearchEngine "Masuit.LuceneEFCore.SearchEngine")

.NETä¸‡èƒ½æ¡†æ¶å·¥å…·åº“ï¼š[Masuit.Tools](https://github.com/ldqk/Masuit.Tools)
